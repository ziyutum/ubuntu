﻿using System;
using System.Collections.Generic;
using System.Text.Json;

class Program
{
    static void Main()
    {
        string fci_data_ascii = "{\"q\": [-0.853052,-0.011888,-0.000368,-2.893925,-0.000389,2.881752,-0.067557,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853044,-0.011951,-0.000370,-2.893925,-0.000390,2.881694,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.012011,-0.000365,-2.893933,-0.000386,2.881634,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.012063,-0.000368,-2.893937,-0.000385,2.881571,-0.067550,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.012129,-0.000363,-2.893938,-0.000384,2.881513,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012184,-0.000365,-2.893946,-0.000388,2.881454,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853052,-0.012247,-0.000370,-2.893946,-0.000387,2.881398,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853048,-0.012311,-0.000370,-2.893959,-0.000389,2.881346,-0.067549,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012377,-0.000370,-2.893964,-0.000388,2.881291,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012437,-0.000370,-2.893968,-0.000385,2.881240,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012497,-0.000368,-2.893974,-0.000388,2.881187,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012557,-0.000365,-2.893981,-0.000385,2.881133,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012628,-0.000368,-2.893988,-0.000387,2.881083,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012684,-0.000368,-2.894001,-0.000385,2.881025,-0.067557,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012747,-0.000365,-2.893999,-0.000388,2.880974,-0.067558,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.012810,-0.000368,-2.894009,-0.000386,2.880916,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853060,-0.012871,-0.000368,-2.894015,-0.000386,2.880860,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.012926,-0.000368,-2.894027,-0.000389,2.880807,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.012998,-0.000368,-2.894028,-0.000385,2.880747,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853044,-0.013065,-0.000370,-2.894032,-0.000389,2.880689,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.013137,-0.000368,-2.894041,-0.000385,2.880627,-0.067558,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853044,-0.013199,-0.000368,-2.894051,-0.000385,2.880570,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013265,-0.000370,-2.894052,-0.000385,2.880507,-0.067555,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013327,-0.000371,-2.894058,-0.000386,2.880443,-0.067552,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013391,-0.000366,-2.894065,-0.000384,2.880378,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.013457,-0.000368,-2.894065,-0.000385,2.880315,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013516,-0.000368,-2.894071,-0.000389,2.880256,-0.067557,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853050,-0.013587,-0.000365,-2.894083,-0.000388,2.880195,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.013646,-0.000370,-2.894089,-0.000387,2.880136,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853052,-0.013715,-0.000370,-2.894100,-0.000385,2.880081,-0.067552,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013779,-0.000370,-2.894102,-0.000386,2.880024,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.013845,-0.000368,-2.894111,-0.000387,2.879964,-0.067549,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.013915,-0.000368,-2.894115,-0.000384,2.879909,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853054,-0.013985,-0.000368,-2.894121,-0.000386,2.879849,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853042,-0.014058,-0.000370,-2.894131,-0.000386,2.879787,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.014119,-0.000368,-2.894140,-0.000386,2.879730,-0.067551,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853048,-0.014190,-0.000365,-2.894150,-0.000386,2.879667,-0.067555,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853053,-0.014251,-0.000369,-2.894151,-0.000386,2.879605,-0.067556,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853052,-0.014316,-0.000363,-2.894160,-0.000387,2.879541,-0.067554,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.014384,-0.000368,-2.894162,-0.000386,2.879475,-0.067553,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.014454,-0.000366,-2.894175,-0.000388,2.879410,-0.067561,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853049,-0.014526,-0.000368,-2.894182,-0.000388,2.879346,-0.067558,0.02000000000000,0.020000]}\n" +
                                "{\"q\": [-0.853047,-0.014587,-0.000366,-2.894184,-0.000387,2.879284,-0.067557,0.02000000000000,0.020000]}";

        // Split the input data into lines
        string[] jsonLines = fci_data_ascii.Split(new[] { "\n" }, StringSplitOptions.RemoveEmptyEntries);

        // Initialize a list to hold the extracted lists
        List<List<double>> bigList = new List<List<double>>();

        foreach (string jsonLine in jsonLines)
        {
            try
            {
                // Parse the JSON line
                JsonDocument jsonDoc = JsonDocument.Parse(jsonLine);
                JsonElement root = jsonDoc.RootElement;
                JsonElement qArray = root.GetProperty("q");

                // Extract the "q" array and convert to a list of doubles
                List<double> qValues = new List<double>();
                foreach (JsonElement element in qArray.EnumerateArray())
                {
                    qValues.Add(element.GetDouble());
                }

                // Add the extracted list to the big list
                bigList.Add(qValues);
            }
            catch (JsonException ex)
            {
                Console.WriteLine($"Error parsing JSON: {ex.Message}");
            }
        }

        // Print the big list
        Console.WriteLine("Big List:");
        foreach (var smallList in bigList)
        {
            Console.WriteLine("[" + string.Join(", ", smallList) + "]");
        }
    }
}
